
import React, { createContext, useContext, useState, useEffect } from "react";

type TranslationContextType = {
  t: (key: string) => string;
  currentLanguage: string;
  setLanguage: (lang: string) => void;
};

const TranslationContext = createContext<TranslationContextType>({
  t: (key: string) => key,
  currentLanguage: "en",
  setLanguage: () => {},
});

export const useTranslation = () => useContext(TranslationContext);

export const TranslationProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [currentLanguage, setCurrentLanguage] = useState("en");

  // On mount, check if a language preference is saved in localStorage
  useEffect(() => {
    const savedLang = localStorage.getItem("awaaz_language");
    if (savedLang) {
      setCurrentLanguage(savedLang);
    }
  }, []);

  // Save language preference to localStorage whenever it changes
  useEffect(() => {
    localStorage.setItem("awaaz_language", currentLanguage);
  }, [currentLanguage]);

  const t = (key: string): string => {
    return translations[currentLanguage][key] || translations.en[key] || key;
  };

  const setLanguage = (lang: string) => {
    if (Object.keys(translations).includes(lang)) {
      setCurrentLanguage(lang);
    }
  };

  return (
    <TranslationContext.Provider value={{ t, currentLanguage, setLanguage }}>
      {children}
    </TranslationContext.Provider>
  );
};

// Translations
const translations = {
  en: {
    signIn: "Sign In",
    signInSubtitle: "Welcome back to AWAaz",
    signUp: "Sign Up",
    signUpSubtitle: "Create a new account",
    email: "Email",
    password: "Password",
    confirmPassword: "Confirm Password",
    login: "Login",
    register: "Register",
    switchToSignUp: "Need an account? Sign up",
    switchToSignIn: "Already have an account? Sign in",
    forgotPassword: "Forgot Password?",
    resetPassword: "Reset Password",
    resetPasswordSubtitle: "Enter your email to receive reset instructions",
    send: "Send",
    backToSignIn: "Back to Sign In",
    settings: "Settings",
    profile: "Profile",
    audio: "Audio",
    advanced: "Advanced",
    display: "Display",
    language: "Language",
    darkMode: "Dark Mode",
    sync: "Sync",
    autoSync: "Auto Sync",
    syncOnWifiOnly: "Sync on WiFi Only",
    syncNow: "Sync Now",
    logout: "Logout",
    home: "Home",
    record: "Record",
    archive: "Archive",
    translate: "Translate",
    upload: "Upload",
    aboutAWAaz: "About AWAaz",
    emailNotVerified: "Email not verified. Please check your inbox.",
    resendVerificationEmail: "Resend Verification Email",
    verificationEmailSent: "Verification email sent. Please check your inbox.",
    invalidCredentials: "Invalid email or password.",
    passwordReset: "Password reset email sent. Please check your inbox.",
    passwordMismatch: "Passwords do not match.",
    accountCreated: "Account created! Please verify your email.",
    name: "Name",
    bio: "Bio",
    save: "Save",
    cancel: "Cancel",
    recordAudio: "Record Audio",
    play: "Play",
    pause: "Pause",
    stop: "Stop",
    recording: "Recording",
    recorded: "Recorded",
    clear: "Clear",
    saveRecording: "Save Recording",
    recordingInProgress: "Recording in progress...",
    tapToStart: "Tap to Start Recording",
    tapToPause: "Tap to Pause Recording",
    tapToResume: "Tap to Resume Recording",
    tapToStop: "Tap to Stop Recording",
    enterRecordingTitle: "Enter recording title",
    recordingTitle: "Recording Title",
    selectContentType: "Select Content Type",
    word: "Word",
    story: "Story",
    song: "Song",
    downloadRecording: "Download Recording",
    deleteRecording: "Delete Recording",
    recordingDate: "Recording Date",
    duration: "Duration",
    speaker: "Speaker",
    tribe: "Tribe",
    region: "Region",
    addTranscription: "Add Transcription",
    addTranslation: "Add Translation",
    hindi: "Hindi",
    english: "English",
    original: "Original",
    transcriptionPlaceholder: "Type or paste transcription here...",
    translationPlaceholder: "Type or paste translation here...",
    saveTranscription: "Save Transcription",
    saveTranslation: "Save Translation",
    shareRecording: "Share Recording",
    copied: "Copied to clipboard!",
    search: "Search",
    filters: "Filters",
    allTypes: "All Types",
    allLanguages: "All Languages",
    allTribes: "All Tribes",
    clearFilters: "Clear Filters",
    loading: "Loading...",
    noRecordings: "No Recordings",
    startRecording: "Start Recording",
    noMatchingRecordings: "No Matching Recordings",
    tryAdjustingFilters: "Try adjusting your search or filters to find what you're looking for.",
    yourArchiveIsEmpty: "Your Archive is Empty",
    recordNow: "Record Now",
    error: "Error",
    success: "Success",
    profileUpdated: "Profile updated successfully",
    syncComplete: "Sync Complete",
    syncFailed: "Sync Failed",
    syncCompleteMessage: "All recordings have been synced.",
    syncFailedMessage: "Failed to sync recordings. Please try again.",
    downloadComplete: "Download Complete",
    downloadFailed: "Download Failed",
    deleteConfirmation: "Delete Confirmation",
    deleteConfirmationMessage: "Are you sure you want to delete this recording? This action cannot be undone.",
    deleteConfirmationBtn: "Delete",
    welcome: "Welcome",
    welcomeMessage: "Preserve cultural heritage through voice.",
    statistics: "Statistics",
    languages: "Languages",
    recordings: "Recordings",
    contributors: "Contributors",
    uploadRecording: "Upload Recording",
    uploadAudioFile: "Upload Audio File",
    uploadBtn: "Upload",
    clickToSelectFile: "Click to Select File",
    audioFormatSupported: "MP3, WAV, and M4A formats supported",
    uploadSuccessful: "Upload Successful",
    recordingAddedToArchive: "Recording added to archive",
    selectAudioFile: "Select Audio File",
    pleaseSelectAudioFile: "Please select an audio file",
    pleaseEnterLanguage: "Please enter a language",
    pleaseEnterTitle: "Please enter a title",
    enterRecordingTitleAgain: "Enter recording title",
    wordItem: "Word",
    dangerZone: "Danger Zone",
    deleteAccount: "Delete Account",
    confirmDeletion: "Confirm Deletion",
    deleteAccountWarning: "This action cannot be undone. This will permanently delete your account and all associated data.",
    deleteAction: "Delete",
    updateProfile: "Update Profile",
    displayName: "Display Name",
    map: "Language Map",
    languageMap: "Language Map",
    exploreLanguageOrigins: "Explore Language Origins",
    viewRecordings: "View Recordings",
    clickOnMarkersToExplore: "Click on markers to explore languages",
    enterRegionOrState: "Enter region or state",
    partOfStoryThread: "Part of Story Thread",
    threadTitle: "Thread Title",
    enterThreadTitle: "Enter thread title",
    partNumber: "Part Number (optional)",
    enterPartNumber: "E.g., 1, 2, Part 1, Chapter 1",
    partDescription: "Part Description (optional)",
    enterBriefDescription: "Enter brief description of this part",
    newThread: "New Thread",
    existingThread: "Existing Thread",
    selectThread: "Select Thread",
    selectExistingThread: "Select existing thread",
    pleaseEnterThreadTitle: "Please enter a thread title",
    pleaseSelectExistingThread: "Please select an existing thread",
    storyThreads: "Story Threads",
    individualRecordings: "Individual Recordings",
    part: "Part",
    parts: "Parts",
    bookmarked: "Bookmarked",
    followed: "Followed",
    allRecordings: "All Recordings",
    threadBookmarked: "Thread Bookmarked",
    threadUnbookmarked: "Thread Unbookmarked",
    threadAddedToBookmarks: "Thread added to bookmarks",
    threadRemovedFromBookmarks: "Thread removed from bookmarks",
    threadFollowed: "Thread Followed",
    threadUnfollowed: "Thread Unfollowed",
    threadNotificationsOn: "You'll be notified of new parts in this thread",
    threadNotificationsOff: "You won't receive notifications for this thread",
    backToList: "Back to List",
    close: "Close",
    noRecordingsInThread: "No recordings in this thread",
    // New translation keys
    fromForgottenToForever: "From Forgotten To Forever",
    regionsCovered: "Regions Covered",
    languagePreference: "Language Preference",
    selectLanguage: "Select Language",
    changePassword: "Change Password",
    currentPassword: "Current Password",
    newPassword: "New Password",
    notifications: "Notifications",
    receiveEmailNotifications: "Receive Email Notifications",
    linkedDevices: "Linked Devices",
    noDevicesLinked: "No Devices Linked",
    updatePassword: "Update Password",
    welcomeBack: "Welcome Back",
    captureLanguageDescription: "Capture and preserve your language",
    exploreRecordingsDescription: "Explore saved recordings",
    helpTranslateDescription: "Help translate indigenous languages",
    uploadExistingDescription: "Upload existing audio recordings",
    communityImpact: "Community Impact",
    communityStatsDescription: "Our collective progress in preserving indigenous voices",
    languagesArchived: "Languages Archived",
    totalRecordings: "Total Recordings",
    learnAboutAWAaz: "Learn About AWAaz",
    recordNewVoice: "Record New Voice",
    browseArchive: "Browse Archive",
    translateRecording: "Translate Recording",
    startRecording: "Start Recording",
    exploreArchive: "Explore Archive",
    startTranslating: "Start Translating",
    uploadFiles: "Upload Files",
    whatWouldYouLikeToDo: "What Would You Like To Do?",
    delete: "Delete"
  },
  hi: {
    signIn: "साइन इन करें",
    signInSubtitle: "AWAaz में वापस आपका स्वागत है",
    signUp: "साइन अप करें",
    signUpSubtitle: "नया अकाउंट बनाएं",
    email: "ईमेल",
    password: "पासवर्ड",
    confirmPassword: "पासवर्ड की पुष्टि करें",
    login: "लॉगिन करें",
    register: "रजिस्टर करें",
    switchToSignUp: "अकाउंट नहीं है? साइन अप करें",
    switchToSignIn: "पहले से ही अकाउंट है? साइन इन करें",
    forgotPassword: "पासवर्ड भूल गए?",
    resetPassword: "पासवर्ड रीसेट करें",
    resetPasswordSubtitle: "रीसेट निर्देश प्राप्त करने के लिए अपना ईमेल दर्ज करें",
    send: "भेजें",
    backToSignIn: "साइन इन पर वापस जाएं",
    settings: "सेटिंग्स",
    profile: "प्रोफाइल",
    audio: "ऑडियो",
    advanced: "उन्नत",
    display: "डिस्प्ले",
    language: "भाषा",
    darkMode: "डार्क मोड",
    sync: "सिंक",
    autoSync: "ऑटो सिंक",
    syncOnWifiOnly: "केवल वाई-फाई पर सिंक करें",
    syncNow: "अभी सिंक करें",
    logout: "लॉगआउट करें",
    home: "होम",
    record: "रिकॉर्ड",
    archive: "आर्काइव",
    translate: "अनुवाद",
    upload: "अपलोड",
    aboutAWAaz: "AWAaz के बारे में",
    emailNotVerified: "ईमेल सत्यापित नहीं है। कृपया अपने इनबॉक्स की जांच करें।",
    resendVerificationEmail: "सत्यापन ईमेल पुनः भेजें",
    verificationEmailSent: "सत्यापन ईमेल भेजा गया। कृपया अपने इनबॉक्स की जांच करें।",
    invalidCredentials: "अमान्य ईमेल या पासवर्ड।",
    passwordReset: "पासवर्ड रीसेट ईमेल भेजा गया। कृपया अपने इनबॉक्स की जांच करें।",
    passwordMismatch: "पासवर्ड मेल नहीं खाते।",
    accountCreated: "अकाउंट बनाया गया! कृपया अपने ईमेल को सत्यापित करें।",
    name: "नाम",
    bio: "जीवनी",
    save: "सेव करें",
    cancel: "रद्द करें",
    recordAudio: "ऑडियो रिकॉर्ड करें",
    play: "प्ले करें",
    pause: "पॉज़ करें",
    stop: "स्टॉप करें",
    recording: "रिकॉर्डिंग",
    recorded: "रिकॉर्ड किया गया",
    clear: "क्लियर करें",
    saveRecording: "रिकॉर्डिंग सेव करें",
    recordingInProgress: "रिकॉर्डिंग जारी है...",
    tapToStart: "रिकॉर्डिंग शुरू करने के लिए टैप करें",
    tapToPause: "रिकॉर्डिंग रोकने के लिए टैप करें",
    tapToResume: "रिकॉर्डिंग फिर से शुरू करने के लिए टैप करें",
    tapToStop: "रिकॉर्डिंग बंद करने के लिए टैप करें",
    enterRecordingTitle: "रिकॉर्डिंग का शीर्षक दर्ज करें",
    recordingTitle: "रिकॉर्डिंग शीर्षक",
    selectContentType: "सामग्री प्रकार चुनें",
    word: "शब्द",
    story: "कहानी",
    song: "गीत",
    downloadRecording: "रिकॉर्डिंग डाउनलोड करें",
    deleteRecording: "रिकॉर्डिंग हटाएं",
    recordingDate: "रिकॉर्डिंग तिथि",
    duration: "अवधि",
    speaker: "वक्ता",
    tribe: "जनजाति",
    region: "क्षेत्र",
    addTranscription: "ट्रांसक्रिप्शन जोड़ें",
    addTranslation: "अनुवाद जोड़ें",
    hindi: "हिंदी",
    english: "अंग्रेजी",
    original: "मूल",
    transcriptionPlaceholder: "ट्रांसक्रिप्शन यहां टाइप या पेस्ट करें...",
    translationPlaceholder: "अनुवाद यहां टाइप या पेस्ट करें...",
    saveTranscription: "ट्रांसक्रिप्शन सेव करें",
    saveTranslation: "अनुवाद सेव करें",
    shareRecording: "रिकॉर्डिंग शेयर करें",
    copied: "क्लिपबोर्ड पर कॉपी किया गया!",
    search: "खोजें",
    filters: "फिल्टर्स",
    allTypes: "सभी प्रकार",
    allLanguages: "सभी भाषाएं",
    allTribes: "सभी जनजातियां",
    clearFilters: "फिल्टर्स क्लियर करें",
    loading: "लोड हो रहा है...",
    noRecordings: "कोई रिकॉर्डिंग नहीं",
    startRecording: "रिकॉर्डिंग शुरू करें",
    noMatchingRecordings: "कोई मिलती जुलती रिकॉर्डिंग नहीं",
    tryAdjustingFilters: "आप जो खोज रहे हैं उसे खोजने के लिए अपनी खोज या फिल्टर समायोजित करने का प्रयास करें।",
    yourArchiveIsEmpty: "आपका आर्काइव खाली है",
    recordNow: "अभी रिकॉर्ड करें",
    error: "त्रुटि",
    success: "सफलता",
    profileUpdated: "प्रोफ़ाइल सफलतापूर्वक अपडेट की गई",
    syncComplete: "सिंक पूरा हुआ",
    syncFailed: "सिंक विफल रहा",
    syncCompleteMessage: "सभी रिकॉर्डिंग सिंक कर दी गई हैं।",
    syncFailedMessage: "रिकॉर्डिंग सिंक करने में विफल। कृपया पुनः प्रयास करें।",
    downloadComplete: "डाउनलोड पूरा हुआ",
    downloadFailed: "डाउनलोड विफल रहा",
    deleteConfirmation: "हटाने की पुष्टि",
    deleteConfirmationMessage: "क्या आप वाकई इस रिकॉर्डिंग को हटाना चाहते हैं? यह क्रिया पूर्ववत नहीं की जा सकती।",
    deleteConfirmationBtn: "हटाएं",
    welcome: "स्वागत है",
    welcomeMessage: "आवाज़ के माध्यम से सांस्कृतिक विरासत का संरक्षण करें।",
    statistics: "आंकड़े",
    languages: "भाषाएँ",
    recordings: "रिकॉर्डिंग",
    contributors: "योगदानकर्ता",
    uploadRecording: "रिकॉर्डिंग अपलोड करें",
    uploadAudioFile: "ऑडियो फ़ाइल अपलोड करें",
    uploadBtn: "अपलोड करें",
    clickToSelectFile: "फ़ाइल चुनने के लिए क्लिक करें",
    audioFormatSupported: "MP3, WAV, और M4A प्रारूप समर्थित हैं",
    uploadSuccessful: "अपलोड सफल",
    recordingAddedToArchive: "रिकॉर्डिंग आर्काइव में जोड़ी गई",
    selectAudioFile: "ऑडियो फ़ाइल चुनें",
    pleaseSelectAudioFile: "कृपया एक ऑडियो फ़ाइल चुनें",
    pleaseEnterLanguage: "कृपया एक भाषा दर्ज करें",
    pleaseEnterTitle: "कृपया एक शीर्षक दर्ज करें",
    enterRecordingTitleAgain: "रिकॉर्डिंग शीर्षक दर्ज करें",
    wordItem: "शब्द",
    dangerZone: "खतरा क्षेत्र",
    deleteAccount: "खाता हटाएं",
    confirmDeletion: "हटाने की पुष्टि करें",
    deleteAccountWarning: "यह क्रिया पूर्ववत नहीं की जा सकती। यह आपके खाते और सभी संबंधित डेटा को स्थायी रूप से हटा देगी।",
    deleteAction: "हटाएं",
    updateProfile: "प्रोफाइल अपडेट करें",
    displayName: "प्रदर्शन नाम",
    map: "भाषा मानचित्र",
    languageMap: "भाषा मानचित्र",
    exploreLanguageOrigins: "भाषा के मूल की खोज करें",
    viewRecordings: "रिकॉर्डिंग देखें",
    clickOnMarkersToExplore: "भाषाओं की खोज के लिए मार्कर पर क्लिक करें",
    enterRegionOrState: "क्षेत्र या राज्य दर्ज करें",
    partOfStoryThread: "कहानी श्रृंखला का हिस्सा",
    threadTitle: "श्रृंखला शीर्षक",
    enterThreadTitle: "श्रृंखला शीर्षक दर्ज करें",
    partNumber: "भाग संख्या (वैकल्पिक)",
    enterPartNumber: "उदाहरण, 1, 2, भाग 1, अध्याय 1",
    partDescription: "भाग विवरण (वैकल्पिक)",
    enterBriefDescription: "इस भाग का संक्षिप्त विवरण दर्ज करें",
    newThread: "नई श्रृंखला",
    existingThread: "मौजूदा श्रृंखला",
    selectThread: "श्रृंखला चुनें",
    selectExistingThread: "मौजूदा श्रृंखला चुनें",
    pleaseEnterThreadTitle: "कृपया श्रृंखला शीर्षक दर्ज करें",
    pleaseSelectExistingThread: "कृपया मौजूदा श्रृंखला चुनें",
    storyThreads: "कहानी श्रृंखलाएँ",
    individualRecordings: "अलग-अलग रिकॉर्डिंग",
    part: "भाग",
    parts: "भाग",
    bookmarked: "बुकमार्क किए गए",
    followed: "फॉलो किए गए",
    allRecordings: "सभी रिकॉर्डिंग",
    threadBookmarked: "श्रृंखला बुकमार्क की गई",
    threadUnbookmarked: "श्रृंखला बुकमार्क से हटाई गई",
    threadAddedToBookmarks: "श्रृंखला बुकमार्क में जोड़ी गई",
    threadRemovedFromBookmarks: "श्रृंखला बुकमार्क से हटाई गई",
    threadFollowed: "श्रृंखला फॉलो की गई",
    threadUnfollowed: "श्रृंखला अनफॉलो की गई",
    threadNotificationsOn: "आपको इस श्रृंखला के नए भागों की सूचना मिलेगी",
    threadNotificationsOff: "आपको इस श्रृंखला के लिए सूचनाएँ नहीं मिलेंगी",
    backToList: "सूची पर वापस जाएँ",
    close: "बंद करें",
    noRecordingsInThread: "इस श्रृंखला में कोई रिकॉर्डिंग नहीं है",
    // New translations in Hindi
    fromForgottenToForever: "भूले से हमेशा के लिए",
    regionsCovered: "कवर किए गए क्षेत्र",
    languagePreference: "भाषा प्राथमिकता",
    selectLanguage: "भाषा चुनें",
    changePassword: "पासवर्ड बदलें",
    currentPassword: "वर्तमान पासवर्ड",
    newPassword: "नया पासवर्ड",
    notifications: "सूचनाएं",
    receiveEmailNotifications: "ईमेल सूचनाएं प्राप्त करें",
    linkedDevices: "जुड़े उपकरण",
    noDevicesLinked: "कोई उपकरण नहीं जुड़ा है",
    updatePassword: "पासवर्ड अपडेट करें",
    welcomeBack: "वापसी पर स्वागत है",
    captureLanguageDescription: "अपनी भाषा को संरक्षित करें",
    exploreRecordingsDescription: "सहेजी गई रिकॉर्डिंग का अन्वेषण करें",
    helpTranslateDescription: "स्वदेशी भाषाओं के अनुवाद में सहायता करें",
    uploadExistingDescription: "मौजूदा ऑडियो रिकॉर्डिंग अपलोड करें",
    communityImpact: "सामुदायिक प्रभाव",
    communityStatsDescription: "स्वदेशी आवाज़ों के संरक्षण में हमारी सामूहिक प्रगति",
    languagesArchived: "संग्रहीत भाषाएँ",
    totalRecordings: "कुल रिकॉर्डिंग",
    learnAboutAWAaz: "AWAaz के बारे में जानें",
    recordNewVoice: "नई आवाज़ रिकॉर्ड करें",
    browseArchive: "संग्रह ब्राउज़ करें",
    translateRecording: "रिकॉर्डिंग का अनुवाद करें",
    startRecording: "रिकॉर्डिंग शुरू करें",
    exploreArchive: "संग्रह का अन्वेषण करें",
    startTranslating: "अनुवाद शुरू करें",
    uploadFiles: "फ़ाइलें अपलोड करें",
    whatWouldYouLikeToDo: "आप क्या करना चाहेंगे?",
    delete: "हटाएं"
  }
};

export default translations;
